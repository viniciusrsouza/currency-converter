{"version":3,"sources":["helpers/api_helper.js","App.js","index.js"],"names":["APP_ID","process","EXCHANGE_APP_ID","credentials","app_id","APIHelper","get","endpoint","params","url","URL","_params","Object","keys","forEach","key","searchParams","append","fetch","res","json","App","useState","currencyList","setCurrencyList","from","to","selections","setSelections","amount","setAmount","conversion","setConversion","performConversion","useCallback","then","base","rates","fromRate","toRate","updateSelection","value","state","handleAmountChange","e","isNaN","target","parseInt","useEffect","r","map","Card","className","Select","variant","onChange","text","MenuItem","TextField","label","InputProps","readOnly","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oZAGMA,EAASC,sJAAYC,iBAAmBC,EAAYC,QAAU,GAerDC,EAbG,CACVC,IADU,SACNC,EAAUC,GAAS,OAAD,qHACpBC,EAAM,IAAIC,IAAJ,UALC,sCAKD,OAAsBH,IAC5BI,EAFoB,2BAELH,GAFK,IAEGJ,OAAQJ,IACrCY,OAAOC,KAAKF,GAASG,SAAQ,SAACC,GAAD,OAC3BN,EAAIO,aAAaC,OAAOF,EAAKJ,EAAQI,OAJb,SAORG,MAAMT,GAPE,cAOpBU,EAPoB,yBAQnBA,EAAIC,QARe,+C,QCqFfC,MAtFf,WACE,MAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCF,mBAAS,CAAEG,KAAM,GAAIC,GAAI,KAA7D,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA4BN,mBAAS,GAArC,mBAAOO,EAAP,KAAeC,EAAf,KACA,EAAoCR,mBAAS,GAA7C,mBAAOS,EAAP,KAAmBC,EAAnB,KAEMC,EAAoBC,uBAAY,WAChCP,EAAWF,MAAQE,EAAWD,IAChCrB,EAAUC,IAAV,eAA6B6B,MAAK,SAAChB,GACjC,IAAMiB,EAAOjB,EAAIkB,MAAMlB,EAAIiB,MACrBE,EAAWnB,EAAIkB,MAAMV,EAAWF,MAChCc,EAASpB,EAAIkB,MAAMV,EAAWD,IAEpCM,EADmBI,EAAOE,EAAYT,EAASU,QAIlD,CAACV,EAAQF,EAAWF,KAAME,EAAWD,KAElCc,EAAkBN,uBAAY,SAACnB,EAAK0B,GACxCb,GAAc,SAACc,GAAD,mBAAC,eAAgBA,GAAjB,kBAAyB3B,EAAM0B,SAC5C,IAEGE,EAAqBT,uBAAY,SAACU,GAClCC,MAAMD,EAAEE,OAAOL,QAGnBX,GAAU,iBACW,KAAnBc,EAAEE,OAAOL,MAAe,EAAxB,UAA+BM,SAASH,EAAEE,OAAOL,aAElD,IAaH,OAXAO,qBAAU,WACR3C,EAAUC,IAAI,mBAAmB6B,MAAK,SAAChB,GACrC,IAAM8B,EAAIrC,OAAOC,KAAKM,GAAK+B,KAAI,SAACN,GAAD,MAAO,CAACA,EAAGzB,EAAIyB,OAC9CpB,EAAgByB,QAEjB,IAEHD,qBAAU,WACRf,MACC,CAACA,IAGF,eAACkB,EAAA,EAAD,CAAMC,UAAU,gBAAhB,UACE,oDACA,sBAAKA,UAAU,qBAAf,UACE,cAACC,EAAA,EAAD,CACEC,QAAQ,WACRb,MAAOd,EAAWF,KAClB8B,SAAU,SAACX,GAAD,OAAOJ,EAAgB,OAAQI,EAAEE,OAAOL,QAHpD,SAKGlB,EAAa2B,KAAI,mCAAEnC,EAAF,KAAOyC,EAAP,YAChB,cAACC,EAAA,EAAD,CAAUhB,MAAO1B,EAAjB,oBAAqCA,EAArC,aAA6CyC,IAAlBzC,QAG/B,cAAC2C,EAAA,EAAD,CACEJ,QAAQ,WACRb,MAAOZ,EACP8B,MAAM,SACNJ,SAAUZ,OAId,sBAAKS,UAAU,qBAAf,UACE,cAACC,EAAA,EAAD,CACEC,QAAQ,WACRb,MAAOd,EAAWD,GAClB6B,SAAU,SAACX,GAAD,OAAOJ,EAAgB,KAAMI,EAAEE,OAAOL,QAHlD,SAKGlB,EAAa2B,KAAI,mCAAEnC,EAAF,KAAOyC,EAAP,YAChB,cAACC,EAAA,EAAD,CAAUhB,MAAO1B,EAAjB,oBAAqCA,EAArC,aAA6CyC,IAAlBzC,QAG/B,cAAC2C,EAAA,EAAD,CACEJ,QAAQ,WACRb,MAAOV,EACP4B,MAAM,SACNC,WAAY,CACVC,UAAU,YC9EtBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d073f207.chunk.js","sourcesContent":["import credentials from \"../credentials/credentials.json\";\n\nconst BASE_URL = \"https://openexchangerates.org/api/\";\nconst APP_ID = process.env.EXCHANGE_APP_ID || credentials.app_id || \"\";\n\nconst APIHelper = {\n  async get(endpoint, params) {\n    const url = new URL(`${BASE_URL}${endpoint}`);\n    const _params = { ...params, app_id: APP_ID };\n    Object.keys(_params).forEach((key) =>\n      url.searchParams.append(key, _params[key])\n    );\n\n    const res = await fetch(url);\n    return res.json();\n  },\n};\n\nexport default APIHelper;\n","import { MenuItem, Select, TextField, Card } from \"@material-ui/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport APIHelper from \"./helpers/api_helper\";\n\nfunction App() {\n  const [currencyList, setCurrencyList] = useState([]);\n  const [selections, setSelections] = useState({ from: \"\", to: \"\" });\n  const [amount, setAmount] = useState(0);\n  const [conversion, setConversion] = useState(0);\n\n  const performConversion = useCallback(() => {\n    if (selections.from && selections.to) {\n      APIHelper.get(`latest.json`).then((res) => {\n        const base = res.rates[res.base];\n        const fromRate = res.rates[selections.from];\n        const toRate = res.rates[selections.to];\n        const converted = (base / fromRate) * amount * toRate;\n        setConversion(converted);\n      });\n    }\n  }, [amount, selections.from, selections.to]);\n\n  const updateSelection = useCallback((key, value) => {\n    setSelections((state) => ({ ...state, [key]: value }));\n  }, []);\n\n  const handleAmountChange = useCallback((e) => {\n    if (isNaN(e.target.value)) {\n      return;\n    }\n    setAmount(() =>\n      e.target.value === \"\" ? 0 : `${parseInt(e.target.value)}`\n    );\n  }, []);\n\n  useEffect(() => {\n    APIHelper.get(\"currencies.json\").then((res) => {\n      const r = Object.keys(res).map((e) => [e, res[e]]);\n      setCurrencyList(r);\n    });\n  }, []);\n\n  useEffect(() => {\n    performConversion();\n  }, [performConversion]);\n\n  return (\n    <Card className=\"App container\">\n      <h1>Currency Converter</h1>\n      <div className=\"selector-container\">\n        <Select\n          variant=\"outlined\"\n          value={selections.from}\n          onChange={(e) => updateSelection(\"from\", e.target.value)}\n        >\n          {currencyList.map(([key, text]) => (\n            <MenuItem value={key} key={key}>{`[${key}] ${text}`}</MenuItem>\n          ))}\n        </Select>\n        <TextField\n          variant=\"outlined\"\n          value={amount}\n          label=\"Amount\"\n          onChange={handleAmountChange}\n        />\n      </div>\n\n      <div className=\"selector-container\">\n        <Select\n          variant=\"outlined\"\n          value={selections.to}\n          onChange={(e) => updateSelection(\"to\", e.target.value)}\n        >\n          {currencyList.map(([key, text]) => (\n            <MenuItem value={key} key={key}>{`[${key}] ${text}`}</MenuItem>\n          ))}\n        </Select>\n        <TextField\n          variant=\"outlined\"\n          value={conversion}\n          label=\"Amount\"\n          InputProps={{\n            readOnly: true,\n          }}\n        />\n      </div>\n    </Card>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}